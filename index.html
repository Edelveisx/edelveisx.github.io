<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css" media="screen">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900&display=swap" rel="stylesheet">
  <title>Title</title>
</head>
<body>
  <div class='wrap'>
    <div class='l-header'>
      <div class='l-header-content'>
        <div class='l-header-logo'></div>
        <div class='l-header-title'>
          <h1><span>Превратите уездный город</span>
            <span>в&nbsp;столицу</span>
            <span>земного шара</span></h1>
          <p>Оплатите взнос на&nbsp;телеграммы для&nbsp;организации Международного васюкинского турнира по&nbsp;шахматам</p>
        </div>
        <div class='l-header-btn'>
          <a class='btn-main-big' href='#'>Поддержать шахматную мысль</a>
          <a class='btn-main-big btn-transparent' href='#'>Подробнее о&nbsp;турнире</a>
        </div>
      </div>
    </div>
    <div class='l-ticker'>
      <ul>
        <li>Дело помощи утопающим — дело рук самих утопающих!</li>
        <li>Шахматы двигают вперед не только культуру, но и экономику!</li>
        <li>Лед тронулся, господа присяжные заседатели!</li>
      </ul>
      <ul aria-hidden="true" >
        <li>Дело помощи утопающим — дело рук самих утопающих!</li>
        <li>Шахматы двигают вперед не только культуру, но и экономику!</li>
        <li>Лед тронулся, господа присяжные заседатели!</li>
      </ul>
    </div>
    <div class='wrap-content'>
      <div class='l-lecture'>
        <p class='block-text'>Чтобы&nbsp;поддержать Международный васюкинский турнир
        <img src="./images/lecture.jpg" alt="Международный васюкинский турнир">
          посетите лекцию на&nbsp;тему: <span class='text-attention'>«Плодотворная дебютная идея»</span></p>
      </div>
      <div class='l-info'>
        <img src="./images/info.png" alt="Международный васюкинский турнир">
        <div class='block-text'>и Сеанс <span class='text-attention'>одновременной игры в&nbsp;шахматы на&nbsp;160&nbsp;досках</span> гроссмейстера О.&nbsp;Бендераи</div>
        <div class="l-grid-info">
          <div class="l-grid-line">
            <div>Место проведения:</div>
            <div>Клуб «Картонажник»</div>
          </div>
          <div class="l-grid-line">
            <div>Дата и&nbsp;время мероприятия:</div>
            <div>22&nbsp;июня 1927&nbsp;г. в&nbsp;18:00</div>
          </div>
          <div class="l-grid-line">
            <div>Стоимость входных билетов:</div>
            <div><span>20</span><span>50</span>&nbsp;коп.</div>
          </div>
          <div class="l-grid-line">
            <div>Плата за&nbsp;игру:</div>
            <div><span>50</span><span>20</span>&nbsp;коп.</div>
          </div>
          <div class="l-grid-line">
            <div>Взнос на&nbsp;телеграммы:</div>
            <div><span class="text-crossout">100 руб. </span>21 руб. 16&nbsp;коп.</div>
          </div>
        </div>
        <div class='l-add-info text-additional'>По&nbsp;всем вопросам обращаться в&nbsp;администрацию к&nbsp;К.&nbsp;Михельсону</div>
      </div>
      <div class='l-block-stage'>
        <div class='stage-header'>
          <h2>Этапы преображения Васюков</h2>
          <span class='text-additional'>Будущие источники обогащения васюкинцев</span>
        </div>
        <div class='stage-img'></div>
        <div id="l-wrap-grid-stage">
          <div class='l-grid-stage'>
            <div class='l-stage stage-one'><p>Строительство железнодорожной магистрали Москва-Васюки</p></div>
            <div class='l-stage stage-two'><p>Открытие фешенебельной гостиницы «Проходная пешка» и&nbsp;других небоскрёбов</p></div>
            <div class='l-stage stage-three'><p>Поднятие сельского хозяйства в&nbsp;радиусе на&nbsp;тысячу километров: производство овощей, фруктов, икры, шоколадных конфет</p></div>
            <div class='l-stage stage-four'><p>Строительство дворца для&nbsp;турнира</p></div>
            <div class='l-stage stage-five'><p>Размещение гаражей для&nbsp;гостевого автотранспорта</p></div>
            <div class='l-stage stage-six'><p>Постройка сверхмощной радиостанции для&nbsp;передачи всему миру сенсационных результатов</p></div>
            <div class='l-stage stage-seven'><p>Создание аэропорта «Большие&nbsp;Васюки» с&nbsp;регулярным отправлением почтовых самолётов и&nbsp;дирижаблей во&nbsp;все&nbsp;концы света, включая Лос-Анжелос и&nbsp;Мельбурн</p></div>
          </div>
        </div>
        <div class='l-stage-btn'>
          <button class='btn-round left' id='stage_left' disabled></button>
          <div class='block-round' id='bill-stages'><span class='active'></span><span></span><span></span><span></span><span></span></div>
          <button class='btn-round right' id='stage_right'></button>
        </div>
      </div>
      <div class='l-block-members'>
        <h2>Участники турнира</h2>
        <div id="l-wrap-members">
          <div class='l-members'>
            <div class='member'>
              <div class='member-photo'>
                <img src="./images/photo.jpg" alt="Хозе-Рауль Капабланка">
              </div>
              <div class='member-name'>Хозе-Рауль Капабланка</div>
              <div class='member-rank'>Чемпион мира по шахматам</div>
              <div class='member-btn'><a class='btn-small' href='#'>Подробнее</a></div>
            </div>
            <div class='member'>
              <div class='member-photo'>
                <img src="./images/photo.jpg" alt="Эммануил Ласкер">
              </div>
              <div class='member-name'>Эммануил Ласкер</div>
              <div class='member-rank'>Чемпион мира по шахматам</div>
              <div class='member-btn'><a class='btn-small' href='#'>Подробнее</a></div>
            </div>
            <div class='member'>
              <div class='member-photo'>
                <img src="./images/photo.jpg" alt="Александр Алехин">
              </div>
              <div class='member-name'>Александр Алехин</div>
              <div class='member-rank'>Чемпион мира по шахматам</div>
              <div class='member-btn'><a class='btn-small' href='#'>Подробнее</a></div>
            </div>
            <div class='member'>
              <div class='member-photo'>
                <img src="./images/photo.jpg" alt="Арон Нимцович">
              </div>
              <div class='member-name'>Арон Нимцович</div>
              <div class='member-rank'>Чемпион мира по шахматам</div>
              <div class='member-btn'><a class='btn-small' href='#'>Подробнее</a></div>
            </div>
            <div class='member'>
              <div class='member-photo'>
                <img src="./images/photo.jpg" alt="Рихард Рети">
              </div>
              <div class='member-name'>Рихард Рети</div>
              <div class='member-rank'>Чемпион мира по шахматам</div>
              <div class='member-btn'><a class='btn-small' href='#'>Подробнее</a></div>
            </div>
            <div class='member'>
              <div class='member-photo'>
                <img src="./images/photo.jpg" alt="Остап Бендер">
              </div>
              <div class='member-name'>Остап Бендер</div>
              <div class='member-rank'>Гроссмейстер</div>
              <div class='member-btn'><a class='btn-small' href='#'>Подробнее</a></div>
            </div>
          </div>
        </div>
        <div class='l-members-btn'>
          <button class='btn-round left' id='member_left'></button>
          <div><span class='text-transparent' id='bill-members'>3</span>/6</div>
          <button class='btn-round right' id='member_right'></button>
        </div>
      </div>
    </div>
    <div class='l-ticker'>
      <ul>
        <li>Дело помощи утопающим — дело рук самих утопающих!</li>
        <li>Шахматы двигают вперед не только культуру, но и экономику!</li>
        <li>Лед тронулся, господа присяжные заседатели!</li>
      </ul>
      <ul aria-hidden="true" >
        <li>Дело помощи утопающим — дело рук самих утопающих!</li>
        <li>Шахматы двигают вперед не только культуру, но и экономику!</li>
        <li>Лед тронулся, господа присяжные заседатели!</li>
      </ul>
    </div>
    <div class="l-footer">
      <p class="text-transparent">Все&nbsp;персонажи, события и&nbsp;цитаты являются вымышленными и&nbsp;не&nbsp;принадлежат создателям сайта. С&nbsp;подробностями можно познакомиться в&nbsp;главе XXXIV романа Ильи Ильфа и&nbsp;Евгения Петрова «Двенадцать стульев».</p>
    </div>
  </div>
  <script>
    let currentFrame = 0;
    const carouseMembersVisible = Math.floor(document.querySelector('#l-wrap-members').offsetWidth / document.querySelector('.member').offsetWidth);
    const carouselFramesOfMember = document.querySelectorAll('.member').length / carouseMembersVisible;
    document.querySelector('#bill-members').innerText = (carouseMembersVisible).toString();

    function goToSlideMember(index) {
      if (index < 0) {
        index = carouselFramesOfMember - 1;
      } else if (index >= carouselFramesOfMember) {
        index = 0;
      }
      currentFrame = index;
      document.querySelector('#bill-members').innerText = (carouseMembersVisible * (currentFrame + 1)).toString();
      document.querySelector('.l-members').style.transform = `translateX(-${(1 / carouselFramesOfMember) * currentFrame * 100}%)`;
    }

    function goToNextSlideMember() {
      goToSlideMember(currentFrame + 1);
    }

    function goToPrevSlideMember() {
      goToSlideMember(currentFrame - 1);
    }

    document.querySelector('#member_left').addEventListener('click', goToPrevSlideMember);
    document.querySelector('#member_right').addEventListener('click', goToNextSlideMember);

    setInterval(goToNextSlideMember, 4000);
  </script>
  <script>
    let currentStage = 0;
    let btnStageLeft = false;
    let btnStageRight = false;
    const carouselStages = window.getComputedStyle(document.querySelector('.l-grid-stage')).getPropertyValue('grid-template-columns').split(' ').length;

    function goToSlideStage(index) {
      btnStageLeft = false;
      btnStageRight = false;
      if (index <= 0) {
        btnStageLeft = true
        index = 0;
      } else if (index >= carouselStages - 1) {
        btnStageRight = true
        index = carouselStages - 1;
      }
      currentStage = index;
      document.querySelector('.l-grid-stage').style.transform = `translateX(-${(1 / carouselStages) * currentStage * 100}%)`;

      const spans = document.querySelector('#bill-stages').children;
      Array.from(spans).forEach((span, idx) => {
        span.classList.remove('active');
        if (idx === index) {
          span.classList.add('active');
        }
      });

      document.querySelector('#stage_left').disabled = btnStageLeft
      document.querySelector('#stage_right').disabled = btnStageRight
    }

    function goToNextSlideStage() {
      goToSlideStage(currentStage + 1);
    }

    function goToPrevSlideStage() {
      goToSlideStage(currentStage - 1);
    }

    document.querySelector('#stage_left').addEventListener('click', goToPrevSlideStage);
    document.querySelector('#stage_right').addEventListener('click', goToNextSlideStage);

  </script>
</body>
</html>